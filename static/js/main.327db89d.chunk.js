(this["webpackJsonpcalendar-utils"]=this["webpackJsonpcalendar-utils"]||[]).push([[0],{3:function(e,t,a){e.exports={container:"styles_container__1Gf2q",page_content:"styles_page_content__1Bw8C",calendar_table:"styles_calendar_table__JwBy0",table_text_container:"styles_table_text_container__2aWQv",table_title_container:"styles_table_title_container__1FdgO",table_action_container:"styles_table_action_container__3tr-w",table_month_container:"styles_table_month_container__138J-",event_impact_types_container:"styles_event_impact_types_container__290kQ",row:"styles_row__17ZbG",col:"styles_col__27d7V",data_col:"styles_data_col__1_j5G",header_row:"styles_header_row__1baL9",city_name_header:"styles_city_name_header__LK2Yd",calendar_date_header:"styles_calendar_date_header__3ti1Q",date:"styles_date__15ETQ",active:"styles_active__ZHd9q",day:"styles_day__2m1d7",city_name_data:"styles_city_name_data__1IOrW",show_more_link:"styles_show_more_link__WU4ON",event:"styles_event__3Jig1",start_overlapping:"styles_start_overlapping__18lzz",end_overlapping:"styles_end_overlapping__2mP2g",event_mild:"styles_event_mild__3mhDJ",event_modarate:"styles_event_modarate__2a6TR",event_high:"styles_event_high__1udky",event_positive:"styles_event_positive__3gEob",event_name_container:"styles_event_name_container__1-S8J",sticky:"styles_sticky__2IpWv",sticky_content:"styles_sticky_content__25BSg",event_type:"styles_event_type__kgSaV",event_impact_name_container:"styles_event_impact_name_container__NrMg_",color_dot:"styles_color_dot__Yd2hC"}},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(24),i=a(11),r=a(5),s=a(8),d=a.n(s),o=a(14),l=a.p+"static/media/icons.73e97880.svg",v=a(0),_=["name","color","width","height"];var m=function(e){var t=e.name,a=e.color,n=e.width,c=void 0===n?16:n,i=e.height,s=void 0===i?16:i,d=Object(o.a)(e,_);return Object(v.jsx)("svg",Object(r.a)(Object(r.a)({preserveAspectRatio:"xMidYMin meet",fill:a,width:c,height:s},d),{},{children:Object(v.jsx)("use",{xlinkHref:"".concat(l,"#src--icons--").concat(t)})}))},j=a(38),p=a(39),h=a(44),u=a(25),y=a(40),b=a(22),O=a(45),I=a(41),D=a(42),f=a(46),x=a(43),w="dd/MM/yyyyy",g="MMM yyyy",T={LOW:{value:"LOW",label:"Mild",color:"#FFE066"},MEDIUM:{value:"MEDIUM",label:"Modarate",color:"#EFA17E"},HIGH:{value:"HIGH",label:"High",color:"#E899B2"},POSITIVE:{value:"POSITIVE",label:"Positive",color:"#72B5A8"}},N={0:{name:"Festival",icon:"Festival"},1:{name:"National Holiday",icon:"NationalHoliday"},2:{name:"Auspecious Day",icon:"AuspeciousDay"},3:{name:"Meat Ban",icon:"MeatBanDay"},4:{name:"Consumer Behaviour",icon:"ConsumerBehaviour"},5:{name:"Eclipse",icon:"Eclipse"},6:{name:"Other",icon:"Other"}},M=new Array(10).fill(1).map((function(e,t){return{name:"City ".concat(t+1),id:t}})),E=[{cityId:[0,4],startDate:"28/03/2022",endDate:"03/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:0,description:"hello",event:{eventId:1,name:"Event overlap with prev month",typeId:0}},{cityId:[0,4],startDate:"28/04/2022",endDate:"03/05/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Event overlap with next month",typeId:1}},{cityId:[1],startDate:"02/04/2022",endDate:"02/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali",typeId:0}},{cityId:[1],startDate:"02/04/2022",endDate:"02/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:2,description:"hello",event:{eventId:2,name:"Diwali",typeId:1}},{cityId:[1],startDate:"02/04/2022",endDate:"02/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:3,description:"hello",event:{eventId:2,name:"Diwali",typeId:2}},{cityId:[1],startDate:"02/04/2022",endDate:"02/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:4,description:"hello",event:{eventId:2,name:"Diwali",typeId:3}},{cityId:[1],startDate:"02/04/2022",endDate:"03/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali",typeId:0}},{cityId:[1],startDate:"02/04/2022",endDate:"03/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali",typeId:1}},{cityId:[1],startDate:"02/04/2022",endDate:"03/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali",typeId:2}},{cityId:[1],startDate:"02/04/2022",endDate:"03/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali",typeId:3}},{cityId:[1],startDate:"04/04/2022",endDate:"06/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali",typeId:1}},{cityId:[1],startDate:"05/04/2022",endDate:"06/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:2,description:"hello",event:{eventId:2,name:"Diwali",typeId:2}},{cityId:[1],startDate:"05/04/2022",endDate:"08/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:3,description:"hello",event:{eventId:2,name:"Diwali",typeId:3}},{cityId:[1],startDate:"08/04/2022",endDate:"08/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali 2",typeId:1}},{cityId:[1],startDate:"09/04/2022",endDate:"09/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:2,description:"hello",event:{eventId:2,name:"Diwali 2",typeId:2}},{cityId:[1],startDate:"10/04/2022",endDate:"10/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:3,description:"hello",event:{eventId:2,name:"Diwali",typeId:3}},{cityId:[1],startDate:"11/04/2022",endDate:"11/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:3,description:"hello",event:{eventId:2,name:"Diwali",typeId:4}},{cityId:[1],startDate:"12/04/2022",endDate:"12/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:3,description:"hello",event:{eventId:2,name:"Diwali",typeId:5}},{cityId:[1,2],startDate:"13/04/2022",endDate:"13/04/2022",startTime:"09:00",endTime:"22:00",categoryId:[1,2,3],impactId:1,description:"hello",event:{eventId:2,name:"Diwali",typeId:6}}],C=a(3),L=a.n(C);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)return t;var a=[],n=[],c=e.filter((function(e){if(a.includes(e.left))return n.push(e),!1;for(var t=0;t<e.span;t++)a.push(e.left+t);return!0}));return t.push(c),S(n,t)}function k(e,t){var a=e.left,n=t.left,c=e.span,i=t.span;return a>n?1:a<n||c>i?-1:c<i?1:0}function R(e,t,a){var n=e.map((function(e){return e.cityId.map((function(t){return Object(r.a)(Object(r.a)({},e),{},{cityId:t})}))})).flatMap((function(e){return e})).filter((function(e){return e.cityId===t})).map((function(e){return function(e,t){var a=t.startDate,n=t.endDate,c=!1,i=!1,s=Object(O.a)(e.startDate,w,new Date);Object(I.a)(s,a)&&(s=a,c=!0);var d=Object(O.a)(e.endDate,w,new Date);Object(D.a)(d,n)&&(d=n,i=!0);var o=Object(f.a)(Object(x.a)(d),Object(b.a)(s))+1;return{cityId:e.cityId,eventId:e.eventId,impactId:e.impactId,typeId:e.event.typeId,startDateOverLapping:c,endDateOverLapping:i,span:o,left:s.getDate(),right:d.getDate(),event:Object(r.a)(Object(r.a)({},e),{},{startDate:s,endDate:d})}}(e,a)})).sort(k),c=function(e){var t=e.reduce((function(e,t){var a="".concat(t.left,"_").concat(t.span,"_").concat(t.impactId);return e[a]?(e[a].events.push(t.event.event),e):(e[a]=Object(r.a)(Object(r.a)({},t),{},{events:[t.event.event]}),e)}),{});return Object.values(t)}(n),s=S(c);console.log(s);var d=function(e){var t=e.reduce((function(e,t,a){return a<2||t.some((function(e){return e.span>1}))?(e[0].push(t),e):(e[1].push(t),e)}),[[],[]]),a=Object(i.a)(t,2),n=a[0],c=a[1].flatMap((function(e){return e})).reduce((function(e,t){var a="".concat(t.left,"_").concat(t.span);return e[a]?(e[a].showMoreList.push(t.event),e):(e[a]=Object(r.a)(Object(r.a)({},t),{},{showMoreList:[t]}),e)}),{});return[n,Object.values(c)]}(s),o=Object(i.a)(d,2);return{eventRows:o[0],showMoreEventRow:o[1]}}function A(e,t,a,n){var c=e.span,i=e.left,r=e.startDateOverLapping,s=e.endDateOverLapping,d=e.impactId,o=[];n?o.push(L.a.show_more_link):o.push(function(e){switch(e){case 0:return L.a.event_positive;case 1:return L.a.event_mild;case 2:return L.a.event_modarate;default:return L.a.event_high}}(d));var l=46*t+10,v=172*c-20,_=172*i+10;return r&&(_-=10,v+=10,o.push(L.a.start_overlapping)),s&&(v+=10,o.push(L.a.end_overlapping)),{style:{width:"".concat(v,"px"),left:"".concat(_,"px"),top:"".concat(l,"px"),height:"".concat(36,"px")},classes:o.join(" ")}}function B(e){var t=e.eventTypeId,a=N[t]||{};return Object(v.jsx)(m,{name:a.icon,height:20,width:20})}function H(e){var t=e.style,a=e.className,n=e.events,c=Object(i.a)(n,1)[0],r=c.name,s=c.typeId,o=N[s]||{};return Object(v.jsxs)("div",{style:t,className:d()(a,L.a.event),children:[Object(v.jsx)("div",{className:L.a.event_icon,children:Object(v.jsx)(B,{eventTypeId:s})}),Object(v.jsxs)("div",{className:L.a.event_name_container,children:[Object(v.jsx)("span",{className:L.a.event_name,children:r}),Object(v.jsx)("span",{className:L.a.event_type,children:o.name})]})]})}function F(e){var t=e.style,a=e.className,n=e.events,c=n.length;return Object(v.jsx)("div",{style:Object(r.a)(Object(r.a)({},t),{},{gridTemplateColumns:"repeat(".concat(c,", 15px)")}),className:d()(a,L.a.event),children:n.map((function(e){return Object(v.jsx)("div",{className:L.a.event_icon,children:Object(v.jsx)(B,{eventTypeId:e.typeId})})}))})}var J=function(e){var t=e.eventDetails,a=e.row,c=e.index,i=t.events,r=Object(n.useMemo)((function(){return A(t,a)}),[t,a,c]),s=r.style,d=r.classes,o=Object(n.useMemo)((function(){return i.length>1?F:H}),[i]);return Object(v.jsx)(o,{className:d,style:s,events:i,row:a,index:c})};var W=function(e){var t=e.eventDetails,a=e.row,c=e.index,i=t.showMoreList,r=Object(n.useMemo)((function(){return A(t,a,0,!0)}),[t,a,c]),s=r.style,d=r.classes;return Object(v.jsxs)("div",{style:s,className:d,children:["& ",i.length," more"]})};var G=function(e){var t=e.rowIndex,a=e.events,n=e.showMoreRow;return Object(v.jsx)("div",{className:L.a.event_row,children:a.map((function(e,a){return n?Object(v.jsx)(W,{eventDetails:e,row:t,index:a},a):Object(v.jsx)(J,{eventDetails:e,row:t,index:a},a)}))})};var P=function(e){var t=e.eventRows,a=e.cityId,n=e.showMoreEventRow;return Object(v.jsxs)("div",{children:[t.map((function(e,t){return Object(v.jsx)(G,{rowIndex:t,events:e},"".concat(a," ").concat(t))})),Object(v.jsx)(G,{rowIndex:t.length,events:n,showMoreRow:!0})]})},Q=["className","dataCol","headerCol","style","height"];var V=function(e){var t=e.className,a=void 0===t?"":t,n=e.dataCol,c=e.headerCol,i=e.style,s=(e.height,Object(o.a)(e,Q)),d=[L.a.col];return a&&d.push(a),n&&d.push(L.a.data_col),c&&d.push(L.a.header_col),Object(v.jsx)("div",Object(r.a)(Object(r.a)({},s),{},{style:Object(r.a)(Object(r.a)({},i),{},{minWidth:"".concat(172,"px")}),className:d.join(" ")}))},U=["className"],Y=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,c=Object(o.a)(e,U);return Object(v.jsx)("div",Object(r.a)(Object(r.a)({ref:t},c),{},{className:"".concat(L.a.row," ").concat(n)}))}));var q=function(e){var t=e.city,a=e.monthDateList,c=e.month,r=e.calendarEvents,s=t.id,d=Object(n.useMemo)((function(){var e=R(r,s,c),t=e.eventRows,a=e.showMoreEventRow,n=t.length;return a.length&&(n+=1),[t,a,46*n+10]}),[r,s,c]),o=Object(i.a)(d,3),l=o[0],_=o[1],m=o[2];return Object(v.jsxs)(Y,{style:{height:"".concat(m,"px"),minHeight:"".concat(60,"px")},children:[Object(v.jsx)(V,{className:L.a.city_name_data,dataCol:!0,children:t.name}),a.map((function(e){return Object(v.jsx)(V,{dataCol:!0},"".concat(t.id," ").concat(e.dateStr))})),Object(v.jsx)(P,{eventRows:l,showMoreEventRow:_,cityId:t.id})]})},z=a(15),Z=Object(n.forwardRef)((function(e,t){var a=e.monthDateList;return Object(v.jsxs)(Y,{className:L.a.header_row,ref:t,children:[Object(v.jsx)(V,{headerCol:!0,className:L.a.city_name_header,children:Object(v.jsx)("div",{children:"City Name"})}),a.map((function(e){return Object(v.jsxs)(V,{headerCol:!0,className:L.a.calendar_date_header,children:[Object(v.jsx)("div",{className:L.a.day,children:e.day}),Object(v.jsx)("div",{className:d()(L.a.date,Object(z.a)({},L.a.active,e.activeDate)),children:e.dateStr})]},"".concat(e.dateStr," ").concat(e.day))}))]})}));var K=function(e){var t=e.monthDateList,a=void 0===t?[]:t,n=e.month,c=e.cities,i=e.calendarEvents;return Object(v.jsxs)("div",{className:L.a.calendar_table,children:[Object(v.jsx)(Z,{monthDateList:a}),c.map((function(e){return Object(v.jsx)(q,{calendarEvents:i,monthDateList:a,month:n,city:e},e.id)}))]})};var X=function(e){var t=e.impactConfig;return Object(v.jsxs)("div",{className:L.a.event_impact_name_container,children:[Object(v.jsx)("span",{className:d()(L.a.color_dot),style:{backgroundColor:t.color}}),Object(v.jsx)("span",{children:t.label})]})};var $=function(e){var t=e.currentMonth,a=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Object(j.a)(e),a=Object(p.a)(e);return{startDate:t,endDate:a,monthStr:Object(h.a)(t,g)}}(t)),c=Object(i.a)(a,2),r=c[0],s=c[1],o=Object(n.useMemo)((function(){return function(e,t){var a=Object(b.a)(new Date).valueOf(),n=e.getDate(),c=t.getDate();return new Array(c).fill(0).map((function(t,i){var r=Object(u.a)(e,i),s=Object(b.a)(r).valueOf(),d=i===n-1,o=i===c-1;return{date:r,dateStr:Object(h.a)(r,"dd"),day:Object(h.a)(r,"EEE"),isStartDate:d,isEndDate:o,activeDate:a===s}}))}(r.startDate,r.endDate)}),[r]);return Object(v.jsxs)("div",{className:L.a.container,children:[Object(v.jsx)("div",{className:d()(L.a.table_text_container,L.a.table_title_container),children:Object(v.jsx)("span",{children:"Event Impact on Sales"})}),Object(v.jsxs)("div",{className:d()(L.a.table_text_containerm,L.a.table_action_container),children:[Object(v.jsx)("div",{children:Object(v.jsx)("button",{children:"+ Add"})}),Object(v.jsxs)("div",{className:L.a.table_month_container,children:[Object(v.jsx)("span",{children:Object(v.jsx)("button",{onClick:function(){s(function(e){var t=e,a=Object(j.a)(t),n=Object(y.a)(a,1),c=Object(j.a)(n);return{startDate:c,endDate:Object(p.a)(n),monthStr:Object(h.a)(c,g)}}(r.startDate))},children:Object(v.jsx)(m,{name:"ArrowLeftIcon",width:10,height:10})})}),Object(v.jsxs)("span",{children:["\xa0",r.monthStr,"\xa0"]}),Object(v.jsx)("span",{children:Object(v.jsx)("button",{onClick:function(){s(function(e){var t=e,a=Object(p.a)(t),n=Object(u.a)(a,1),c=Object(j.a)(n);return{startDate:c,endDate:Object(p.a)(n),monthStr:Object(h.a)(c,g)}}(r.startDate))},children:Object(v.jsx)(m,{name:"ArrowRightIcon",width:10,height:10})})})]}),Object(v.jsx)("div",{className:L.a.event_impact_types_container,children:Object.values(T).map((function(e){return Object(v.jsx)(X,{impactConfig:e})}))}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{children:"Filters"})})]}),Object(v.jsx)(K,{calendarEvents:E,cities:M,month:r,monthDateList:o})]})};a(35);function ee(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)($,{currentMonth:new Date})})}var te=document.getElementById("root");Object(c.createRoot)(te).render(Object(v.jsx)(n.StrictMode,{children:Object(v.jsx)(ee,{})}))}},[[36,1,2]]]);
//# sourceMappingURL=main.327db89d.chunk.js.map